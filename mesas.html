<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selección de Mesa - Sistema</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #111827; }
        .grid-cell { min-height: 80px; min-width: 80px; }
    </style>
</head>
<body class="text-gray-200">

    <div id="root"></div>

    <script type="text/babel">
        window.onload = function() {
            const { useState, useEffect, useCallback, useRef } = React;

            const DECORATION_TYPES = {
                'bar_bottom': { name: 'Barra (Abajo)', icon: 'BarTopView', width: 240, height: 240, rotation: 0 },
                'bar_left':   { name: 'Barra (Izquierda)', icon: 'BarTopView', width: 240, height: 240, rotation: 270 },
                'bar_top':    { name: 'Barra (Arriba)', icon: 'BarTopView', width: 240, height: 240, rotation: 180 },
                'bar_right':  { name: 'Barra (Derecha)', icon: 'BarTopView', width: 240, height: 240, rotation: 90 },
                'plant':      { name: 'Planta', icon: 'PlantTopView2', width: 80, height: 80 },
                'fountain':   { name: 'Fuente', icon: 'FountainTopView', width: 120, height: 120 },
                'garden':     { name: 'Jardín', icon: 'GardenTopView', width: 200, height: 200 }
            };

            const Icon = ({ name, className = '', ...props }) => (
                <img src={`./img/${name}.svg`} className={className} {...props} alt={`${name} icon`} />
            );

            const getInitials = (name) => {
                if (!name) return '';
                const words = name.trim().split(' ');
                if (words.length > 1) return words.map(word => word[0]).join('').toUpperCase().substring(0, 2);
                return name.substring(0, 2).toUpperCase();
            };

            const OccupiedTableModal = ({ isOpen, onClose, table, onTableFreedUp, onChangeTableClick }) => {
                if (!isOpen || !table) return null;

                const handleCreateSeparateAccount = (tableId) => {
                    window.location.href = `productos.html?id_mesa=${tableId}&crear_cuenta=true`;
                };

                if (!isOpen || !table) return null;

                const handleFreeUpTable = () => {
                    if (confirm(`¿Estás seguro de que quieres desocupar la mesa ${table.number}? Se eliminará el pedido actual.`)) {
                        fetch('api/desocupar_mesa.php', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ id_mesa: table.id })
                        })
                        .then(res => res.json())
                        .then(data => {
                            if (data.success) {
                                alert(data.message || 'Mesa desocupada correctamente.');
                                onTableFreedUp();
                                onClose();
                            } else {
                                alert('Error: ' + data.error);
                            }
                        })
                        .catch(err => {
                            console.error('Error en la petición:', err);
                            alert('Ocurrió un error de conexión.');
                        });
                    }
                };

                return (
                    <div className="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50" onClick={onClose}>
                        <div className="bg-gray-800 rounded-lg p-8 w-full max-w-sm m-4 shadow-2xl" onClick={e => e.stopPropagation()}>
                            <h2 className="text-2xl font-bold text-white mb-6 text-center">Mesa {table.number}</h2>
                            <div className="space-y-4">
                                <button onClick={handleFreeUpTable} className="w-full flex items-center justify-center gap-3 text-lg bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 px-6 rounded-lg transition-colors">
                                    <Icon name="LogOut" />
                                    <span>Desocupar Mesa</span>
                                </button>
                                                                <button onClick={() => onChangeTableClick(table)} className="w-full flex items-center justify-center gap-3 text-lg bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg transition-colors">
                                    <Icon name="ArrowRightLeft" />
                                    <span>Cambiar de Mesa</span>
                                </button>
                                                                <button onClick={() => handleCreateSeparateAccount(table.id)} className="w-full flex items-center justify-center gap-3 text-lg bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-lg transition-colors">
                                    <Icon name="CopyPlus" />
                                    <span>Crear Cuenta Aparte</span>
                                </button>
                            </div>
                            <button onClick={onClose} className="w-full mt-6 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-6 rounded-lg transition-colors">Cancelar</button>
                        </div>
                    </div>
                );
            };

                        const ChangeTableModal = ({ isOpen, onClose, onConfirm, tables, sourceTable }) => {
                if (!isOpen) return null;

                const [selectedDestinationId, setSelectedDestinationId] = useState(null);
                const availableTables = tables.filter(t => t.estado === 'disponible');

                const handleConfirm = () => {
                    if (selectedDestinationId) {
                        onConfirm(sourceTable.id, selectedDestinationId);
                    }
                };

                return (
                    <div className="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50" onClick={onClose}>
                        <div className="bg-gray-800 rounded-lg p-8 w-full max-w-2xl m-4 shadow-2xl" onClick={e => e.stopPropagation()}>
                            <h2 className="text-2xl font-bold text-white mb-6 text-center">Cambiar Mesa {sourceTable?.number} a:</h2>
                            <div className="grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4 max-h-96 overflow-y-auto p-4 bg-gray-900/50 rounded-lg">
                                {availableTables.length > 0 ? availableTables.map(table => (
                                    <div 
                                        key={table.id}
                                        onClick={() => setSelectedDestinationId(table.id)}
                                        className={`p-2 h-20 w-20 flex flex-col items-center justify-center rounded-xl shadow-lg cursor-pointer transition-all duration-200 ${selectedDestinationId === table.id ? 'ring-4 ring-cyan-400' : ''} bg-green-500 text-white`}
                                    >
                                        <span className="text-2xl font-bold">{table.number}</span>
                                    </div>
                                )) : <p className="col-span-full text-center text-gray-400">No hay mesas disponibles.</p>}
                            </div>
                            <div className="flex items-center justify-end gap-4 mt-6">
                                <button type="button" onClick={onClose} className="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-6 rounded-lg transition-colors">Cancelar</button>
                                <button 
                                    type="button" 
                                    onClick={handleConfirm}
                                    disabled={!selectedDestinationId}
                                    className="bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-6 rounded-lg transition-colors disabled:bg-gray-500 disabled:cursor-not-allowed"
                                >
                                    Confirmar Cambio
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };

            const PersonCountModal = ({ isOpen, onClose, onSubmit, table }) => {
                if (!isOpen || !table) return null;

                const [personCount, setPersonCount] = useState(1);
                const [clientName, setClientName] = useState('');

                const handleSubmit = (e) => {
                    e.preventDefault();
                    onSubmit(table.id, personCount, clientName);
                };

                return (
                    <div className="fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50 transition-opacity duration-300" onClick={onClose}>
                        <div className="bg-gray-800 rounded-lg p-8 w-full max-w-md m-4 shadow-2xl transform transition-all duration-300 scale-95 hover:scale-100" onClick={e => e.stopPropagation()}>
                            <h2 className="text-2xl font-bold text-white mb-6">Abrir Mesa: {table.number}</h2>
                            <form onSubmit={handleSubmit}>
                                <div className="mb-4">
                                    <label htmlFor="person-count" className="block text-gray-300 text-sm font-bold mb-2">Número de Personas:</label>
                                    <input type="number" id="person-count" value={personCount} onChange={(e) => setPersonCount(e.target.value)} min="1" className="shadow appearance-none border-2 border-gray-700 rounded w-full py-3 px-4 bg-gray-900 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent" required />
                                </div>
                                <div className="mb-6">
                                    <label htmlFor="client-name" className="block text-gray-300 text-sm font-bold mb-2">Nombre del Cliente (Opcional):</label>
                                    <input type="text" id="client-name" value={clientName} onChange={(e) => setClientName(e.target.value)} className="shadow appearance-none border-2 border-gray-700 rounded w-full py-3 px-4 bg-gray-900 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent" placeholder="Ej: Juan Pérez" />
                                </div>
                                <div className="flex items-center justify-end gap-4">
                                    <button type="button" onClick={onClose} className="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-6 rounded-lg focus:outline-none focus:shadow-outline transition-colors">Cancelar</button>
                                    <button type="submit" className="bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-6 rounded-lg focus:outline-none focus:shadow-outline transition-colors">Confirmar y Abrir</button>
                                </div>
                            </form>
                        </div>
                    </div>
                );
            };

            const Sidebar = ({ zones, activeZoneId, setActiveZoneId, setSelectedTable, isSidebarOpen, setIsSidebarOpen }) => {
                const handleZoneClick = (zoneId) => {
                    setActiveZoneId(zoneId);
                    setSelectedTable(null);
                };

                return (
                    <div className={`fixed top-0 left-0 h-full bg-gray-900 text-white transition-all duration-300 z-30 ${isSidebarOpen ? 'w-64' : 'w-20'} lg:w-64`}>
                        <div className="flex flex-col h-full p-4">
                            <div>
                                <div className={`flex items-center mb-6 h-[2.125rem] ${isSidebarOpen ? 'justify-between' : 'justify-center'}`}>
                                        <a href="#" className={`flex items-center ps-2.5 ${!isSidebarOpen && 'hidden'} lg:flex`}>
                                            <Icon name="UtensilsCrossed" className="h-6 w-6 me-3 text-cyan-400" />
                                            <span className={`self-center text-2xl font-semibold whitespace-nowrap text-white ${isSidebarOpen ? 'inline' : 'hidden'} lg:inline`}>ZONAS</span>
                                        </a>
                                        <button onClick={() => setIsSidebarOpen(prev => !prev)} className={`p-2 rounded-md hover:bg-gray-700 lg:hidden`}>
                                            <Icon name={isSidebarOpen ? 'X' : 'Menu'} className="w-6 h-6" />
                                        </button>
                                        <button onClick={() => setIsSidebarOpen(true)} className={`p-2 rounded-md hover:bg-gray-700 hidden ${!isSidebarOpen ? 'lg:inline' : ''}`}>
                                            <Icon name="Menu" className="w-6 h-6" />
                                        </button>
                                    </div>
                                <ul className="space-y-3 font-medium">
                                    {zones.map(zone => (
                                        <li key={zone.id}>
                                            <button onClick={() => handleZoneClick(zone.id)} className={`w-full flex items-center p-3 text-gray-200 rounded-lg group transition-colors ${activeZoneId === zone.id ? 'bg-white/10' : 'hover:bg-white/5'} ${!isSidebarOpen && 'lg:w-auto w-full justify-center'}`}>
                                                <Icon name={zone.name === 'Salón' ? 'Armchair' : zone.name.includes('Barra') ? 'Beer' : 'MapPin'} className={`flex-shrink-0 w-8 h-8 transition duration-75 ${activeZoneId === zone.id ? 'text-cyan-400' : 'text-gray-400 group-hover:text-white'}`} />
                                                <span className={`flex-1 ms-3 whitespace-nowrap ${isSidebarOpen ? 'inline' : 'hidden'} lg:inline`}>{zone.name}</span>
                                                <span className={`text-sm font-semibold whitespace-nowrap ${!isSidebarOpen ? 'inline' : 'hidden'} lg:hidden`}>{getInitials(zone.name)}</span>
                                            </button>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                            <div className="mt-auto pt-8 space-y-3">
                                <a href="../productos.html" className={`w-full flex items-center p-3 rounded-lg transition-colors bg-gray-700 hover:bg-gray-600 text-gray-200 ${isSidebarOpen ? '' : 'justify-center'} lg:justify-start`}>
                                    <Icon name="UtensilsCrossed" className="flex-shrink-0" /> <span className={`ms-3 whitespace-nowrap ${isSidebarOpen ? 'inline' : 'hidden'} lg:inline`}>Productos</span>
                                </a>
                                <a href="../editor.html" className={`w-full flex items-center p-3 rounded-lg transition-colors bg-gray-700 hover:bg-gray-600 text-gray-200 ${isSidebarOpen ? '' : 'justify-center'} lg:justify-start`}>
                                    <Icon name="Pencil" className="flex-shrink-0" /> <span className={`ms-3 whitespace-nowrap ${isSidebarOpen ? 'inline' : 'hidden'} lg:inline`}>Modo Editor</span>
                                </a>
                            </div>
                        </div>
                    </div>
                );
            }

            function Header({ activeZoneName, isSidebarOpen, setIsSidebarOpen }) {
                return (
                    <header className="flex items-center justify-between p-4 bg-gray-800/80 backdrop-blur-sm border-b border-gray-700/50 lg:hidden">
                                                <h1 className="text-xl font-bold text-white">{activeZoneName}</h1>
                        <a href="#" className="p-2 rounded-full hover:bg-gray-700"><Icon name="CircleUser" className="w-6 h-6" /></a>
                    </header>
                );
            }

            function TableSelector() {
                const [zones, setZones] = useState([]);
                const [activeZoneId, setActiveZoneId] = useState(null);
                const [loading, setLoading] = useState(true);
                const [isSidebarOpen, setIsSidebarOpen] = useState(window.innerWidth >= 1024);
                const [selectedTable, setSelectedTable] = useState(null);
                const [isModalOpen, setIsModalOpen] = useState(false);
                const [tableForModal, setTableForModal] = useState(null);
                const [isOccupiedModalOpen, setIsOccupiedModalOpen] = useState(false);
                const [occupiedTableForModal, setOccupiedTableForModal] = useState(null);
                const [isChangeTableModalOpen, setIsChangeTableModalOpen] = useState(false);
                const [sourceTableForChange, setSourceTableForChange] = useState(null);
                const clickTimeout = React.useRef(null);
                const [isDesktopView, setIsDesktopView] = useState(window.innerWidth >= 768);

                useEffect(() => {
                    const handleResize = () => {
                        setIsDesktopView(window.innerWidth >= 768);
                    };
                    window.addEventListener('resize', handleResize);
                    return () => window.removeEventListener('resize', handleResize);
                }, []);

                const GRID_ROWS = 10;
                const GRID_COLS = 16;
                const API_URL = 'api/mesas_plano.php';

                const fetchTables = useCallback(() => {
                    setLoading(true);
                    fetch(API_URL)
                        .then(res => res.json())
                        .then(data => {
                            const sanitizedZones = (data || []).map(zone => ({ ...zone, tables: zone.tables || [] }));
                            setZones(sanitizedZones);
                            if (!activeZoneId && sanitizedZones.length > 0) {
                                setActiveZoneId(sanitizedZones[0].id);
                            }
                            setLoading(false);
                        })
                        .catch(err => {
                            console.error("Error fetching data:", err);
                            setLoading(false);
                        });
                }, [activeZoneId]);

                useEffect(() => {
                    fetchTables();
                }, [fetchTables]);

                const handleTableDoubleClick = (table) => {
                    if (clickTimeout.current) {
                        clearTimeout(clickTimeout.current);
                        clickTimeout.current = null;
                    }
                    if (table.estado === 'ocupada') {
                        setOccupiedTableForModal(table);
                        setIsOccupiedModalOpen(true);
                    }
                };

                const handleTableClick = (table) => {
                    setSelectedTable(table.id);

                    if (table.estado === 'disponible') {
                        setTableForModal(table);
                        setIsModalOpen(true);
                    } else if (table.estado === 'ocupada') {
                        if (clickTimeout.current) {
                            clearTimeout(clickTimeout.current);
                            clickTimeout.current = null;
                            handleTableDoubleClick(table); // Treat as double click
                        } else {
                            clickTimeout.current = setTimeout(() => {
                                window.location.href = `productos.html?id_mesa=${table.id}`;
                                clickTimeout.current = null;
                            }, 250);
                        }
                    }
                };

                const handleOpenChangeTableModal = (table) => {
                    setSourceTableForChange(table);
                    setIsOccupiedModalOpen(false);
                    setIsChangeTableModalOpen(true);
                };

                const handleConfirmChangeTable = (sourceId, destinationId) => {
                    fetch('api/cambiar_mesa.php', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ 
                            source_id: sourceId,
                            destination_id: destinationId
                        })
                    })
                    .then(res => res.json())
                    .then(data => {
                        if(data.success) {
                            alert(data.message);
                            setIsChangeTableModalOpen(false);
                            fetchTables(); // Para refrescar el plano de mesas
                        } else {
                            alert('Error: ' + data.error);
                        }
                    })
                    .catch(err => {
                        console.error('Error en la petición:', err);
                        alert('Ocurrió un error de conexión al intentar cambiar la mesa.');
                    });
                };

                const handleOpenTable = (tableId, personCount, clientName) => {
                    fetch('api/guardar_datos_mesa.php', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ 
                            id_mesa: tableId, 
                            cantidad_personas: personCount, 
                            nombre_cliente: clientName 
                        })
                    })
                    .then(res => res.json())
                    .then(data => {
                        if(data.success) {
                            // Redirigir a la página de productos con el ID de la mesa
                            window.location.href = `productos.html?id_mesa=${tableId}`;
                        } else {
                            console.error('Error al abrir la mesa:', data.error);
                            alert('Error: ' + data.error);
                        }
                    })
                    .catch(err => {
                        console.error('Error en la petición:', err);
                        alert('Ocurrió un error de conexión.');
                    });
                };

                if (loading && zones.length === 0) {
                    return <div className="flex items-center justify-center h-screen bg-gray-900 text-white text-xl">Cargando plano de mesas...</div>;
                }

                const getTableColor = (estado) => {
                    switch(estado) {
                        case 'ocupada': return 'bg-red-500 text-white';
                        case 'disponible': return 'bg-green-500 text-white';
                        case 'reservada': return 'bg-yellow-500 text-white';
                        default: return 'bg-gray-600 text-white';
                    }
                }

                                const allTables = zones.flatMap(z => z.tables);
                const activeZone = zones.find(z => z.id === activeZoneId);

                return (
                    <div className="relative min-h-screen bg-gray-900">
                        <PersonCountModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} onSubmit={handleOpenTable} table={tableForModal} />
                                                <OccupiedTableModal 
                            isOpen={isOccupiedModalOpen} 
                            onClose={() => setIsOccupiedModalOpen(false)} 
                            table={occupiedTableForModal} 
                            onTableFreedUp={fetchTables} 
                            onChangeTableClick={handleOpenChangeTableModal}
                        />
                        <ChangeTableModal 
                            isOpen={isChangeTableModalOpen}
                            onClose={() => setIsChangeTableModalOpen(false)}
                            onConfirm={handleConfirmChangeTable}
                            tables={zones.flatMap(z => z.tables)}
                            sourceTable={sourceTableForChange}
                        />
                        <div className="relative flex h-screen">
                            <Sidebar {...{ zones, activeZoneId, setActiveZoneId, setSelectedTable, isSidebarOpen, setIsSidebarOpen }} />
                            <div className={`flex-1 flex flex-col overflow-hidden transition-all duration-300 ${isSidebarOpen ? 'ml-64' : 'ml-20'} lg:ml-64`}>
                                <Header activeZoneName={activeZone?.name || 'Sin Zonas'} isSidebarOpen={isSidebarOpen} setIsSidebarOpen={setIsSidebarOpen} />
                                <main className="flex-1 overflow-x-hidden overflow-y-auto bg-gray-800 p-4 lg:p-8 relative">
                                    <h1 className="hidden lg:block text-4xl font-bold text-white mb-8">Seleccionar Mesa: {activeZone?.name || ''}</h1>
                                    <div className="bg-white p-4 rounded-lg overflow-x-auto">
                                        {!activeZone ? (
                                            <div className="text-center text-gray-400 py-8">Selecciona una zona para ver las mesas.</div>
                                        ) : (
                                            <div 
                                                className={isDesktopView ? 'relative' : 'flex flex-col gap-3'}
                                                style={{ height: isDesktopView ? `${GRID_ROWS * 90}px` : 'auto' }}
                                            >
                                                {activeZone.walls && activeZone.walls.map(wall => {
                                                    const x1 = wall.x1, y1 = wall.y1, x2 = wall.x2, y2 = wall.y2;
                                                    const length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
                                                    const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;
                                                    const style = {
                                                        position: 'absolute',
                                                        left: `${x1}px`,
                                                        top: `${y1}px`,
                                                        width: `${length}px`,
                                                        height: '5px',
                                                        backgroundColor: 'rgba(55, 65, 81, 1)',
                                                        transformOrigin: '0 0',
                                                        transform: `rotate(${angle}deg)`
                                                    };
                                                    return <div key={wall.id} style={style}></div>;
                                                })}

                                                {activeZone.decorations && activeZone.decorations.map(decor => {
                                        const decorType = DECORATION_TYPES[decor.type];
                                        if (!decorType) return null;

                                        const style = {
                                            left: decor.x,
                                            top: decor.y,
                                            width: decorType.width,
                                            height: decorType.height,
                                            transform: `rotate(${decor.rotation || 0}deg)`,
                                            position: 'absolute'
                                        };

                                        return (
                                            <div key={decor.id} style={style}>
                                                <Icon name={decorType.icon} className="w-full h-full text-gray-800" />
                                            </div>
                                        );
                                    })}

                                                {activeZone.tables.map(table => (
                                                    <div 
                                                        key={table.id}
                                                        onClick={() => handleTableClick(table)}
                                                        onDoubleClick={() => handleTableDoubleClick(table)} 
                                                        className={`p-3 rounded-xl shadow-lg cursor-pointer transition-all duration-200 ${selectedTable === table.id ? 'ring-4 ring-offset-2 ring-offset-gray-800 ring-cyan-400' : ''} ${getTableColor(table.estado)} ${isDesktopView ? 'absolute h-20 w-20 flex-col justify-center items-center transform hover:-translate-y-1' : 'flex-row justify-between items-center'}`}
                                                        style={isDesktopView ? {
                                                            top: `${table.y}px`,
                                                            left: `${table.x}px`
                                                        } : {}}
                                                    >
                                                        <div className={`flex items-center ${isDesktopView ? 'flex-col' : 'gap-4'}`}>
                                                            <span className="text-2xl font-bold w-12 text-center">{table.number}</span>
                                                            {!isDesktopView && (
                                                                <div className="text-left">
                                                                    <p className="font-semibold">{table.estado.charAt(0).toUpperCase() + table.estado.slice(1)}</p>
                                                                    {table.estado === 'ocupada' && table.nombre_cliente && <p className="text-sm opacity-80">{table.nombre_cliente}</p>}
                                                                </div>
                                                            )}
                                                        </div>
                                                        {table.estado === 'ocupada' && table.cantidad_personas > 0 && (
                                                            <div className={`text-white text-xs rounded-full flex items-center justify-center font-bold shadow-lg ${isDesktopView ? 'absolute -top-2 -right-2 bg-cyan-500 h-6 w-6' : 'bg-cyan-500 text-sm h-8 w-8'}`}>
                                                                {table.cantidad_personas}
                                                            </div>
                                                        )}
                                                    </div>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                </main>
                            </div>
                        </div>
                    </div>
                );
            }

            ReactDOM.render(<TableSelector />, document.getElementById('root'));
        };
    </script>

</body>
</html>